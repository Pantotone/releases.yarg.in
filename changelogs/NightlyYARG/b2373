{
  "commits": [
    {
      "sha": "5b3ab3273cf29c1d9435377a4b7400bd660611b3",
      "author": "sonicfind",
      "summary": "Rework Audio Handling To Allow Song Entires To Directly Create Mixes (#723)",
      "description": "* Restructure audio handling through new Core Audio classes\r\n\r\n+ Removes old interfaces entirely\r\n+ Unhooks BassAudioManager from MonoSingleton, instead relying on explicit initialization and closure through globalVariable calls\r\n+ Manually construct and hold StemMixer variables for all the external classes and types that require one: gamemanager, main menu, music library, etc.\r\n+ Use runtime volume and reverb callback system, where channels & managers will connect themselves to multiactions.\r\n+ remove unnecessary audio songEntry extensions as entries now create mixers and previewContexts directly from Core.\r\n+ Improved stem muting behavior during gameplay\r\n\r\n+ Personal favorite: implement better fading for music library scrolling.\r\n\r\n* Minor gamemanager conditional flip\r\n\r\n* Utilize mixer naming and thread safety updates\r\n\r\n* Don't send the manager instance to BassSampleChannels\r\n\r\n* Stem volume related changes\r\n\r\n+ Stem volume is now pre-clamped, so the value can be held directly in BassStemChannel.\r\n+ Reorder setting of `UseMinimumStemVolume` to before mixer creation so that minimums can be pre-applied.\r\n+ Apply minimums for MusicPlayer\r\n\r\n* Fix drum stems not having effects applied by drum players\r\n\r\n* REVERB_VOLUME_MULTIPLIER to .80f\r\n\r\n* Pet peeve: re-add specific musiclibrarymenu refresh behavior\r\n\r\nLet me jump to my updated chart please. Thanks.\r\n\r\n* Silence annoying \"nullable\" warnings\r\n\r\n* Fix BassStemMixer LogFormatError usage\r\n\r\n* Replace static AudioManager usage with GlobalAudioHandler\r\n\r\n* Add mixer nullable check on GameManager destruction\r\n\r\n* Ensure volume setting is restored when closing a song\r\n\r\n* Update Bass position getter & setters\r\n\r\n* Don't fully mute audio on miss if only one stem is present\r\n\r\nUses the Song stem specialization to limit it to 50% of the song stem setting, minimum.\r\n\r\n* Limit shared stem muting to 50% minimum at all times\r\n\r\nThis affects tracks that use the Song stem or for songs with only one stem being played (a drum stem split into pieces also counts)\r\n\r\n* Fix Reverb with songstem adjustment\r\n\r\n* Rename _sharedStem to _backgroundStem\r\n\r\n* Fallback to Rhythm if Bass stem is unavailable\r\n\r\n* Fix preview not playing from \"Go To Currently Playing\"\r\n\r\n* Fix BASS speed clamp\r\n\r\n* Fix \"out of order\" assert trip on practice restarts\r\n\r\nUses PositionFlags.MixerReset flag to force BASS's buffer position to change when paused.\r\n\r\n* Reference internal functions in SetPosition\r\n\r\n* Consolidate all vocal stemstates to a single node\r\n\r\n* Re-add CurrentPlaying null check\r\n\r\n* Don't use StemMixer SongEnd to end gameplay\r\n\r\n* Use global speed for previews\r\n\r\n* Utilize stem volume clamping update\r\n\r\nAllows removal of the source queries to know whether to clamp stems as those will be embedded in the mixer.\r\n\r\n* Apply volume initialization changes\r\n\r\n+ Fixes the music player volume being set to max for a moment before having it's initial volume updated on startup.\r\n\r\n* Allow ListExtensions to be used outside of the main thread\r\n\r\n* MusicPlayer fixups\r\n\r\n+ Simplified interactivity with the gameobject\r\n+ Fix race condition issues that could cause multiple mixers to stay active at the same time.\r\n+ Add param to UpdateVolume()\r\n\r\n* Reimplement Unity Editor mute behavior\r\n\r\n* Apply PreviewContext update\r\n\r\n* PreviewContext delay and fade updates\r\n\r\nEasier customization of the scroll delay and fadein/out durations for previews\r\n\r\n* Improve location of previewDelay reset\r\n\r\n* Fix multiple \"EndSong\" calls\r\n\r\n* Fix some new pausing issues\r\n\r\n* Additional pause fixes\r\n\r\n+ Ensure menu gameobjects are inactive before clearing\r\n+ Fix \"pop on empty\" for section menu\r\n\r\n* Don't load preview audio if preview volume is zero\r\n\r\n* Modify muteOnMiss setting into three pieces\r\n\r\nMatches reverb setting with Off. Multitrack, and On\r\n\r\n* Dispose, instead of stop, previewcontexts on Menu destruction\r\n\r\nStops the fade out when entering a song\r\n\r\n* Forgot to set to null\r\n\r\n* Rework musiclibrary refresh functionality\r\n\r\nBefore, the musiclibrary would 1. do viewlist refreshes in situations that don't require them 2. for some refreshes, set the \"SelectedIndex\" variable twice in one go. The first is problematic for obvious reasons, but the second would cause the preview delay to be higher than desired.\r\n\r\n* Fix incorrect SetPosition behavior\r\n\r\n* Explicitly close pause menu objects\r\n\r\n* Update YARG.Core"
    },
    {
      "sha": "87ccc6306647e3e8f80b4bd9764dce2ff899de21",
      "author": "TheFatBastid",
      "summary": "Handle unexpected behavior (#731)",
      "description": "Adding this null check fixes the problem of having camera cuts which then use Next before a venue cue is set."
    }
  ]
}